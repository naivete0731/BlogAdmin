"use strict";(self["webpackChunkblog_admin"]=self["webpackChunkblog_admin"]||[]).push([[639],{3639:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"body"},[t("div",{staticClass:"bgc"}),t("div",{staticClass:"main-box"},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isLogin?t("h1",[e._v("Sign in to system")]):t("div",{staticStyle:{"text-align":"center"}},[t("h1",[e._v("Welcome Back !")]),t("br"),t("p",{staticStyle:{color:"#a0a5a8","font-size":"14px"}},[e._v("To keep connected with us please login "),t("br"),e._v(" with your personal info")])])]),t("el-row",[t("el-col",{attrs:{lg:24,xl:24}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isLogin?t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.loginForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{prop:"username","label-width":"0"}},[t("el-input",{attrs:{placeholder:"请输入令牌"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{prop:"password","label-width":"0"}},[t("el-input",{attrs:{placeholder:"请输入密钥","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("立即登陆")])],1):t("div",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){e.isLogin=!0}}},[e._v("前往登陆")])],1)],1)],1)],1)],1)])},o=[],i=(s(7658),s(7877)),a=s(3822),n={data(){return{loginForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入令牌",trigger:"blur"},{pattern:/^[a-zA-Z0-9]{1,10}$/,message:"令牌长度不符",trigger:"blur"}],password:[{required:!0,message:"请输入密钥",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密钥长度不符",trigger:"blur"}]},isLogin:!1}},computed:{...(0,a.Se)(["getToken"])},methods:{...(0,a.OI)(["updateToken","updateUserInfo"]),submitForm(){this.$refs.ruleForm.validate((async e=>{if(!e)return this.$message.error("登陆格式错误");if(null!==this.getToken&&""!==this.getToken)return this.$router.push("/"),this.$message.info("不能重复登陆");const{data:t}=await(0,i.UO)(this.loginForm);if(200!==t.status)return this.$message.error(t.message);this.$notify.success(t.message),this.updateToken(t.token),this.updateUserInfo(t.data),this.$router.push("/")}))}},name:"LoginVue"},l=n,u=s(1001),m=(0,u.Z)(l,r,o,!1,null,"565dd448",null),d=m.exports}}]);
//# sourceMappingURL=639.4fa5a914.js.map