"use strict";(self["webpackChunkblog_admin"]=self["webpackChunkblog_admin"]||[]).push([[629],{4629:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var a=function(){var t=this,e=t._self._c;return e("el-container",{staticClass:"main-container"},[e("el-aside",{class:t.isCollapse?"min-aside":""},[e("el-scrollbar",{staticStyle:{height:"100%"}},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.$route.path,collapse:t.isCollapse,router:"","unique-opened":"","collapse-transition":!1,mode:"vertical","background-color":"rgb(48, 65, 86)","text-color":"rgb(191, 203, 217)","active-text-color":"rgb(64, 158, 255)"}},[e("el-menu-item",{attrs:{index:"/home"}},[e("i",{staticClass:"el-icon-s-home"}),e("span",[t._v("首页")])]),t._l(t.menus,(function(s){return[0===s.items.length?e("el-menu-item",{key:s._id,attrs:{index:s.indexPath}},[e("i",{staticClass:"el-icon-user-solid"}),e("span",[t._v(t._s(s.title))])]):e("el-submenu",{key:s.createAt,attrs:{index:s._id}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-user-solid"}),e("span",[t._v(t._s(s.title))])]),t._l(s.items,(function(a,i){return e("el-menu-item",{key:i,attrs:{index:s.indexPath+a.indexPath}},[e("i",{staticClass:"el-icon-user-solid"}),e("span",[t._v(t._s(a.title))])])}))],2)]}))],2)],1)],1),e("el-container",[e("el-header",[e("div",{staticClass:"left-container",staticStyle:{display:"flex"}},[e("div",{staticClass:"hamburger-container",on:{click:function(e){t.isCollapse=!t.isCollapse}}},[e("i",{staticClass:"el-icon-s-fold icon-warp"})]),e("el-breadcrumb",{attrs:{separator:"/"}},t._l(t.levelList,(function(s,a){return e("el-breadcrumb-item",{key:a},[0===a?e("router-link",{attrs:{to:"/home"}},[t._v(" "+t._s(s.meta.title)+" ")]):e("span",[t._v(t._s(s.meta.title))])],1)})),1)],1),e("div",{staticClass:"avatar-container"},[e("el-dropdown",{attrs:{trigger:"click",size:"mini"}},[e("div",[e("el-avatar",{attrs:{shape:"square",src:t.baseURL+t.UserInfo.avatar.replace(/^public/,"")}}),e("i",{staticClass:"el-icon-caret-bottom"})],1),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("router-link",{attrs:{to:"/roleprofile/userinfo"}},[e("el-dropdown-item",[t._v("个人中心")])],1),e("router-link",{attrs:{to:"/home"}},[e("el-dropdown-item",{attrs:{to:"/home"}},[t._v("首页")])],1),e("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(e){return t.quit()}}},[t._v("退出")])],1)],1)],1)]),e("el-main",[e("router-view")],1),e("el-footer",[t._v("Footer")])],1)],1)},i=[],r=(s(7658),s(7877)),o=s(3822),l=s(6361),n={name:"LayoutVue",data(){return{menus:[],isCollapse:!1,levelList:null,baseURL:l.v}},methods:{async getMenuList(){const{data:t}=await(0,r.rJ)();if(200!==t.status)return this.$message.error("侧边栏获取失败");this.menus=t.data},getBreadcrumb(){let t=this.$route.matched.filter((t=>t.meta&&t.meta.title));const e=t[0];this.isDashboard(e)||(t=[{path:"/home",meta:{title:"首页"}}].concat(t)),this.levelList=t.filter((t=>t.meta&&t.meta.title&&!1!==t.meta.breadcrumb))},isDashboard(t){const e=t&&t.name;return!!e&&e.trim().toLocaleLowerCase()==="首页".toLocaleLowerCase()},quit(){this.$confirm("退出登录，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$store.commit("updateToken",""),this.$store.commit("updateUserInfo",{}),this.$router.push("/login"),this.$notify.success("退出成功")})).catch((()=>{}))}},created(){this.getMenuList(),this.getBreadcrumb()},watch:{$route(t){this.getBreadcrumb()}},computed:{...(0,o.Se)(["UserInfo"])}},c=n,u=s(1001),d=(0,u.Z)(c,a,i,!1,null,"251f6843",null),m=d.exports}}]);
//# sourceMappingURL=629.9f40632b.js.map